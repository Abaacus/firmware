\hypertarget{batteries_8h}{}\doxysection{/\+Users/\+Richard/\+Documents/\+Waterloo/\+W\+F\+E/\+Code.nosync/2018\+\_\+bmu-\/2/\+Inc/batteries.h File Reference}
\label{batteries_8h}\index{/Users/Richard/Documents/Waterloo/WFE/Code.nosync/2018\_bmu-\/2/Inc/batteries.h@{/Users/Richard/Documents/Waterloo/WFE/Code.nosync/2018\_bmu-\/2/Inc/batteries.h}}
{\ttfamily \#include \char`\"{}Free\+R\+T\+O\+S.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}queue.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}bsp.\+h\char`\"{}}\newline
Include dependency graph for batteries.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{batteries_8h_aca152be2322f2c62c655e2a234c88fd3}{C\+E\+L\+L\+\_\+\+M\+A\+X\+\_\+\+T\+E\+M\+P\+\_\+C}}~(60.\+0)
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef enum \mbox{\hyperlink{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6e}{Charge\+\_\+\+Notifications\+\_\+t}} \mbox{\hyperlink{batteries_8h_afafd4ab2db0429aabc15e408fcaad454}{Charge\+\_\+\+Notifications\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6e}{Charge\+\_\+\+Notifications\+\_\+t}} \{ \mbox{\hyperlink{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6eaa00db7f1f8038fc1f7b12f36c4b29bcd}{C\+H\+A\+R\+G\+E\+\_\+\+S\+T\+A\+R\+T\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+ON}}, 
\mbox{\hyperlink{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6ea183c1400a97f7c19bd0dc48b0486c440}{C\+H\+A\+R\+G\+E\+\_\+\+S\+T\+O\+P\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+ON}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_a0ee7fbdeb8e2e8413b4fc77ba59223d5}{get\+I\+Bus}} (float $\ast$I\+Bus)
\begin{DoxyCompactList}\small\item\em Get the most recent bus current reading. \end{DoxyCompactList}\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_aff30116cb629c2efdad61c2ccaec0c36}{get\+V\+Batt}} (float $\ast$V\+Batt)
\begin{DoxyCompactList}\small\item\em Get the most recent battery voltage reading (from the HV A\+DC). Note\+: this is only equal to the battery voltage when both contactors are closed. to get the battery voltage in all times, use \mbox{\hyperlink{batteries_8h_ab07aef73f633627b5a1a78e40f15961f}{get\+Pack\+Voltage}}. \end{DoxyCompactList}\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_a6fbf3bf910348af26a580fc418f89f5e}{get\+V\+Bus}} (float $\ast$V\+Bus)
\begin{DoxyCompactList}\small\item\em Get the most recent HV Bus voltage reading (from the HV A\+DC) \end{DoxyCompactList}\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_a951b2aac55838c4b1abd243f38e2ca47}{init\+Bus\+Voltages\+And\+Current\+Queues}} ()
\begin{DoxyCompactList}\small\item\em Creates queues for HV Bus measurements Queue overwrite, Queue peek, and queue size of 1 is used to ensure only the most recent data is in the queue and read from the queue. Queues use Amps and Volts for units. \end{DoxyCompactList}\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_aaacb3ffbd5367bbde01d4e8120fdbea0}{balance\+\_\+cell}} (int cell, bool set)
\begin{DoxyCompactList}\small\item\em Control the balance state of an individual cell. NB\+: this is inneficient if balancing multiple cells, as he entire balance config is sent to the A\+MS boards every time this is called. Instead, use the lower level batt\+\_\+balance\+\_\+cell/batt\+\_\+stop\+\_\+balance\+\_\+cell to change state for all cells, then call batt\+\_\+write\+\_\+config to send the new balance config. \end{DoxyCompactList}\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_ab07aef73f633627b5a1a78e40f15961f}{get\+Pack\+Voltage}} (float $\ast$pack\+Voltage)
\begin{DoxyCompactList}\small\item\em Gets the current pack voltage. This returns the pack voltage as calculated by summing all the cell voltages. \end{DoxyCompactList}\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_a92932081ca58208175ca6c4e0971f06d}{init\+Pack\+Voltage\+Queue}} ()
\begin{DoxyCompactList}\small\item\em Creates the pack voltage queue. Needs to be called before R\+T\+OS starts. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{batteries_8h_aed5d06c4a55e40673204ceacf2fde819}{map\+\_\+range\+\_\+float}} (float in, float low, float high, float low\+\_\+out, float high\+\_\+out)
\begin{DoxyCompactList}\small\item\em Maps a value from one range to another in a linear manner. \end{DoxyCompactList}\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_aacf3b5ff9648b813208cb6f91b370fef}{set\+Max\+Charge\+Current}} (float max\+Current)
\begin{DoxyCompactList}\small\item\em Sets the maximum current for the charger. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{batteries_8h_acd55a62448b408952283c28d12dd4c1d}{set\+Send\+Only\+One\+Cell}} (int cell\+Idx)
\begin{DoxyCompactList}\small\item\em Repeatedly send the cell voltage and temperature for a specific cell. This is instead of the normal behaviour which cycles through all the cells sending a message every \mbox{\hyperlink{batteries_8c_ab75dbcd7e0a59fc3d1fc3715de87544a}{C\+A\+N\+\_\+\+C\+E\+L\+L\+\_\+\+S\+E\+N\+D\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS}}. Useful for battery testing to monitor a cell at higher frequency. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{batteries_8h_ade4720060f19979c4071eae3fb08ff92}{clear\+Send\+Only\+One\+Cell}} ()
\begin{DoxyCompactList}\small\item\em Stop sending only one cell repeatedly, and go back to sending all cells over C\+AN. \end{DoxyCompactList}\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_a6e1bc0d2209bd309c4db0a06009a339a}{cli\+Set\+V\+Batt}} (float V\+Batt)
\begin{DoxyCompactList}\small\item\em For nucleo testing, allows setting a dummy value for the V\+Batt reading. \end{DoxyCompactList}\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_a2ab7e555695e672e38894f394a31a3ef}{cli\+Set\+V\+Bus}} (float V\+Bus)
\begin{DoxyCompactList}\small\item\em For nucleo testing, allows setting a dummy value for the V\+Bus reading. \end{DoxyCompactList}\item 
H\+A\+L\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{batteries_8h_a19d5fb02c3547746d76a121bf9f10807}{cli\+Set\+I\+Bus}} (float I\+Bus)
\begin{DoxyCompactList}\small\item\em For nucleo testing, allows setting a dummy value for the I\+Bus reading. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{batteries_8h_aca152be2322f2c62c655e2a234c88fd3}\label{batteries_8h_aca152be2322f2c62c655e2a234c88fd3}} 
\index{batteries.h@{batteries.h}!CELL\_MAX\_TEMP\_C@{CELL\_MAX\_TEMP\_C}}
\index{CELL\_MAX\_TEMP\_C@{CELL\_MAX\_TEMP\_C}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{CELL\_MAX\_TEMP\_C}{CELL\_MAX\_TEMP\_C}}
{\footnotesize\ttfamily \#define C\+E\+L\+L\+\_\+\+M\+A\+X\+\_\+\+T\+E\+M\+P\+\_\+C~(60.\+0)}



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{batteries_8h_afafd4ab2db0429aabc15e408fcaad454}\label{batteries_8h_afafd4ab2db0429aabc15e408fcaad454}} 
\index{batteries.h@{batteries.h}!Charge\_Notifications\_t@{Charge\_Notifications\_t}}
\index{Charge\_Notifications\_t@{Charge\_Notifications\_t}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{Charge\_Notifications\_t}{Charge\_Notifications\_t}}
{\footnotesize\ttfamily typedef enum \mbox{\hyperlink{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6e}{Charge\+\_\+\+Notifications\+\_\+t}} \mbox{\hyperlink{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6e}{Charge\+\_\+\+Notifications\+\_\+t}}}



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6e}\label{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6e}} 
\index{batteries.h@{batteries.h}!Charge\_Notifications\_t@{Charge\_Notifications\_t}}
\index{Charge\_Notifications\_t@{Charge\_Notifications\_t}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{Charge\_Notifications\_t}{Charge\_Notifications\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6e}{Charge\+\_\+\+Notifications\+\_\+t}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{CHARGE\_START\_NOTIFICATION@{CHARGE\_START\_NOTIFICATION}!batteries.h@{batteries.h}}\index{batteries.h@{batteries.h}!CHARGE\_START\_NOTIFICATION@{CHARGE\_START\_NOTIFICATION}}}\mbox{\Hypertarget{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6eaa00db7f1f8038fc1f7b12f36c4b29bcd}\label{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6eaa00db7f1f8038fc1f7b12f36c4b29bcd}} 
C\+H\+A\+R\+G\+E\+\_\+\+S\+T\+A\+R\+T\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+ON&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CHARGE\_STOP\_NOTIFICATION@{CHARGE\_STOP\_NOTIFICATION}!batteries.h@{batteries.h}}\index{batteries.h@{batteries.h}!CHARGE\_STOP\_NOTIFICATION@{CHARGE\_STOP\_NOTIFICATION}}}\mbox{\Hypertarget{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6ea183c1400a97f7c19bd0dc48b0486c440}\label{batteries_8h_aa5cc81ab95f71f17129ffd163d038c6ea183c1400a97f7c19bd0dc48b0486c440}} 
C\+H\+A\+R\+G\+E\+\_\+\+S\+T\+O\+P\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+ON&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{batteries_8h_aaacb3ffbd5367bbde01d4e8120fdbea0}\label{batteries_8h_aaacb3ffbd5367bbde01d4e8120fdbea0}} 
\index{batteries.h@{batteries.h}!balance\_cell@{balance\_cell}}
\index{balance\_cell@{balance\_cell}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{balance\_cell()}{balance\_cell()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def balance\+\_\+cell (\begin{DoxyParamCaption}\item[{int}]{cell,  }\item[{bool}]{set }\end{DoxyParamCaption})}



Control the balance state of an individual cell. NB\+: this is inneficient if balancing multiple cells, as he entire balance config is sent to the A\+MS boards every time this is called. Instead, use the lower level batt\+\_\+balance\+\_\+cell/batt\+\_\+stop\+\_\+balance\+\_\+cell to change state for all cells, then call batt\+\_\+write\+\_\+config to send the new balance config. 


\begin{DoxyParams}{Parameters}
{\em cell} & The cell to change the balance state of \\
\hline
{\em set} & True if should balance cell\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+A\+L\+\_\+\+Status\+Type\+Def 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_aaacb3ffbd5367bbde01d4e8120fdbea0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{batteries_8h_aaacb3ffbd5367bbde01d4e8120fdbea0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_ade4720060f19979c4071eae3fb08ff92}\label{batteries_8h_ade4720060f19979c4071eae3fb08ff92}} 
\index{batteries.h@{batteries.h}!clearSendOnlyOneCell@{clearSendOnlyOneCell}}
\index{clearSendOnlyOneCell@{clearSendOnlyOneCell}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{clearSendOnlyOneCell()}{clearSendOnlyOneCell()}}
{\footnotesize\ttfamily void clear\+Send\+Only\+One\+Cell (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Stop sending only one cell repeatedly, and go back to sending all cells over C\+AN. 

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_ade4720060f19979c4071eae3fb08ff92_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_a19d5fb02c3547746d76a121bf9f10807}\label{batteries_8h_a19d5fb02c3547746d76a121bf9f10807}} 
\index{batteries.h@{batteries.h}!cliSetIBus@{cliSetIBus}}
\index{cliSetIBus@{cliSetIBus}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{cliSetIBus()}{cliSetIBus()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def cli\+Set\+I\+Bus (\begin{DoxyParamCaption}\item[{float}]{I\+Bus }\end{DoxyParamCaption})}



For nucleo testing, allows setting a dummy value for the I\+Bus reading. 


\begin{DoxyParams}{Parameters}
{\em I\+Bus} & The value to set for I\+Bus, in volts\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+A\+L\+\_\+\+Status\+Type\+Def 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_a19d5fb02c3547746d76a121bf9f10807_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_a6e1bc0d2209bd309c4db0a06009a339a}\label{batteries_8h_a6e1bc0d2209bd309c4db0a06009a339a}} 
\index{batteries.h@{batteries.h}!cliSetVBatt@{cliSetVBatt}}
\index{cliSetVBatt@{cliSetVBatt}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{cliSetVBatt()}{cliSetVBatt()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def cli\+Set\+V\+Batt (\begin{DoxyParamCaption}\item[{float}]{V\+Batt }\end{DoxyParamCaption})}



For nucleo testing, allows setting a dummy value for the V\+Batt reading. 


\begin{DoxyParams}{Parameters}
{\em V\+Batt} & The value to set for V\+Batt, in volts\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+A\+L\+\_\+\+Status\+Type\+Def 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_a6e1bc0d2209bd309c4db0a06009a339a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_a2ab7e555695e672e38894f394a31a3ef}\label{batteries_8h_a2ab7e555695e672e38894f394a31a3ef}} 
\index{batteries.h@{batteries.h}!cliSetVBus@{cliSetVBus}}
\index{cliSetVBus@{cliSetVBus}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{cliSetVBus()}{cliSetVBus()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def cli\+Set\+V\+Bus (\begin{DoxyParamCaption}\item[{float}]{V\+Bus }\end{DoxyParamCaption})}



For nucleo testing, allows setting a dummy value for the V\+Bus reading. 


\begin{DoxyParams}{Parameters}
{\em V\+Bus} & The value to set for V\+Bus, in volts\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+A\+L\+\_\+\+Status\+Type\+Def 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_a2ab7e555695e672e38894f394a31a3ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_a0ee7fbdeb8e2e8413b4fc77ba59223d5}\label{batteries_8h_a0ee7fbdeb8e2e8413b4fc77ba59223d5}} 
\index{batteries.h@{batteries.h}!getIBus@{getIBus}}
\index{getIBus@{getIBus}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{getIBus()}{getIBus()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def get\+I\+Bus (\begin{DoxyParamCaption}\item[{float $\ast$}]{I\+Bus }\end{DoxyParamCaption})}



Get the most recent bus current reading. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em I\+Bus} & pointer to a float to store the I\+Bus reading, in amps\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+A\+L\+\_\+\+Status\+Type\+Def 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_a0ee7fbdeb8e2e8413b4fc77ba59223d5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_ab07aef73f633627b5a1a78e40f15961f}\label{batteries_8h_ab07aef73f633627b5a1a78e40f15961f}} 
\index{batteries.h@{batteries.h}!getPackVoltage@{getPackVoltage}}
\index{getPackVoltage@{getPackVoltage}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{getPackVoltage()}{getPackVoltage()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def get\+Pack\+Voltage (\begin{DoxyParamCaption}\item[{float $\ast$}]{pack\+Voltage }\end{DoxyParamCaption})}



Gets the current pack voltage. This returns the pack voltage as calculated by summing all the cell voltages. 


\begin{DoxyParams}{Parameters}
{\em pack\+Voltage} & pointer to a float to return the pack voltage (in volts)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+A\+L\+\_\+\+Status\+Type\+De 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_ab07aef73f633627b5a1a78e40f15961f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_aff30116cb629c2efdad61c2ccaec0c36}\label{batteries_8h_aff30116cb629c2efdad61c2ccaec0c36}} 
\index{batteries.h@{batteries.h}!getVBatt@{getVBatt}}
\index{getVBatt@{getVBatt}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{getVBatt()}{getVBatt()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def get\+V\+Batt (\begin{DoxyParamCaption}\item[{float $\ast$}]{V\+Batt }\end{DoxyParamCaption})}



Get the most recent battery voltage reading (from the HV A\+DC). Note\+: this is only equal to the battery voltage when both contactors are closed. to get the battery voltage in all times, use \mbox{\hyperlink{batteries_8h_ab07aef73f633627b5a1a78e40f15961f}{get\+Pack\+Voltage}}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em pointer} & to a float to store the V\+Batt reading, in volts\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+A\+L\+\_\+\+Status\+Type\+Def 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_aff30116cb629c2efdad61c2ccaec0c36_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_a6fbf3bf910348af26a580fc418f89f5e}\label{batteries_8h_a6fbf3bf910348af26a580fc418f89f5e}} 
\index{batteries.h@{batteries.h}!getVBus@{getVBus}}
\index{getVBus@{getVBus}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{getVBus()}{getVBus()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def get\+V\+Bus (\begin{DoxyParamCaption}\item[{float $\ast$}]{V\+Bus }\end{DoxyParamCaption})}



Get the most recent HV Bus voltage reading (from the HV A\+DC) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em pointer} & to a float to store the V\+Bus reading, in volts\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+A\+L\+\_\+\+Status\+Type\+Def 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_a6fbf3bf910348af26a580fc418f89f5e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_a951b2aac55838c4b1abd243f38e2ca47}\label{batteries_8h_a951b2aac55838c4b1abd243f38e2ca47}} 
\index{batteries.h@{batteries.h}!initBusVoltagesAndCurrentQueues@{initBusVoltagesAndCurrentQueues}}
\index{initBusVoltagesAndCurrentQueues@{initBusVoltagesAndCurrentQueues}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{initBusVoltagesAndCurrentQueues()}{initBusVoltagesAndCurrentQueues()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def init\+Bus\+Voltages\+And\+Current\+Queues (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creates queues for HV Bus measurements Queue overwrite, Queue peek, and queue size of 1 is used to ensure only the most recent data is in the queue and read from the queue. Queues use Amps and Volts for units. 

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=299pt]{batteries_8h_a951b2aac55838c4b1abd243f38e2ca47_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_a92932081ca58208175ca6c4e0971f06d}\label{batteries_8h_a92932081ca58208175ca6c4e0971f06d}} 
\index{batteries.h@{batteries.h}!initPackVoltageQueue@{initPackVoltageQueue}}
\index{initPackVoltageQueue@{initPackVoltageQueue}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{initPackVoltageQueue()}{initPackVoltageQueue()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def init\+Pack\+Voltage\+Queue (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creates the pack voltage queue. Needs to be called before R\+T\+OS starts. 

\begin{DoxyReturn}{Returns}
H\+A\+L\+\_\+\+Status\+Type\+Def 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=278pt]{batteries_8h_a92932081ca58208175ca6c4e0971f06d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_aed5d06c4a55e40673204ceacf2fde819}\label{batteries_8h_aed5d06c4a55e40673204ceacf2fde819}} 
\index{batteries.h@{batteries.h}!map\_range\_float@{map\_range\_float}}
\index{map\_range\_float@{map\_range\_float}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{map\_range\_float()}{map\_range\_float()}}
{\footnotesize\ttfamily float map\+\_\+range\+\_\+float (\begin{DoxyParamCaption}\item[{float}]{in,  }\item[{float}]{low,  }\item[{float}]{high,  }\item[{float}]{low\+\_\+out,  }\item[{float}]{high\+\_\+out }\end{DoxyParamCaption})}



Maps a value from one range to another in a linear manner. 


\begin{DoxyParams}{Parameters}
{\em in} & The value to map \\
\hline
{\em low} & low value of in range \\
\hline
{\em high} & high value of in range \\
\hline
{\em low\+\_\+out} & low value of out range \\
\hline
{\em high\+\_\+out} & high value of out range\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
in value mapped to out range 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_aed5d06c4a55e40673204ceacf2fde819_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_aacf3b5ff9648b813208cb6f91b370fef}\label{batteries_8h_aacf3b5ff9648b813208cb6f91b370fef}} 
\index{batteries.h@{batteries.h}!setMaxChargeCurrent@{setMaxChargeCurrent}}
\index{setMaxChargeCurrent@{setMaxChargeCurrent}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{setMaxChargeCurrent()}{setMaxChargeCurrent()}}
{\footnotesize\ttfamily H\+A\+L\+\_\+\+Status\+Type\+Def set\+Max\+Charge\+Current (\begin{DoxyParamCaption}\item[{float}]{max\+Current }\end{DoxyParamCaption})}



Sets the maximum current for the charger. 


\begin{DoxyParams}{Parameters}
{\em max\+Current} & The maximum current, in Amps\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+A\+L\+\_\+\+Status\+Type\+Def 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{batteries_8h_aacf3b5ff9648b813208cb6f91b370fef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{batteries_8h_acd55a62448b408952283c28d12dd4c1d}\label{batteries_8h_acd55a62448b408952283c28d12dd4c1d}} 
\index{batteries.h@{batteries.h}!setSendOnlyOneCell@{setSendOnlyOneCell}}
\index{setSendOnlyOneCell@{setSendOnlyOneCell}!batteries.h@{batteries.h}}
\doxysubsubsection{\texorpdfstring{setSendOnlyOneCell()}{setSendOnlyOneCell()}}
{\footnotesize\ttfamily void set\+Send\+Only\+One\+Cell (\begin{DoxyParamCaption}\item[{int}]{cell\+Idx }\end{DoxyParamCaption})}



Repeatedly send the cell voltage and temperature for a specific cell. This is instead of the normal behaviour which cycles through all the cells sending a message every \mbox{\hyperlink{batteries_8c_ab75dbcd7e0a59fc3d1fc3715de87544a}{C\+A\+N\+\_\+\+C\+E\+L\+L\+\_\+\+S\+E\+N\+D\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS}}. Useful for battery testing to monitor a cell at higher frequency. 


\begin{DoxyParams}{Parameters}
{\em cell\+Idx} & The cell to repeatedly send (note, this uses firmwares 0 based indexing, instead of electricals 1 based indexing of cell numbers) \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{batteries_8h_acd55a62448b408952283c28d12dd4c1d_icgraph}
\end{center}
\end{figure}
