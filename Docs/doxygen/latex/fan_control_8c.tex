\hypertarget{fan_control_8c}{}\doxysection{/\+Users/djgood/\+WFE/firmware/2018\+\_\+bmu/\+Src/fan\+Control.c File Reference}
\label{fan_control_8c}\index{/Users/djgood/WFE/firmware/2018\_bmu/Src/fanControl.c@{/Users/djgood/WFE/firmware/2018\_bmu/Src/fanControl.c}}


Module controlling battery pack fans.  


{\ttfamily \#include \char`\"{}bsp.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fan\+Control.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}BMU\+\_\+can.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}batteries.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}debug.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}control\+State\+Machine.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}state\+\_\+machine.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{fan_control_8c_a0f5d005a3b8b11fc2e300d31293db3da}\label{fan_control_8c_a0f5d005a3b8b11fc2e300d31293db3da}} 
\#define {\bfseries FAN\+\_\+\+OFF\+\_\+\+TEMP}~30
\item 
\mbox{\Hypertarget{fan_control_8c_af40204cc370431260543a903a052b316}\label{fan_control_8c_af40204cc370431260543a903a052b316}} 
\#define {\bfseries FAN\+\_\+\+MAX\+\_\+\+DUTY\+\_\+\+PERCENT}~1.\+0
\item 
\mbox{\Hypertarget{fan_control_8c_a1818a6736bdfc9e35630c3c673f57898}\label{fan_control_8c_a1818a6736bdfc9e35630c3c673f57898}} 
\#define {\bfseries FAN\+\_\+\+ON\+\_\+\+DUTY\+\_\+\+PERCENT}~0.\+2
\item 
\mbox{\Hypertarget{fan_control_8c_a7090548812ebaa9461596d32bc9a5ba2}\label{fan_control_8c_a7090548812ebaa9461596d32bc9a5ba2}} 
\#define {\bfseries FAN\+\_\+\+PERIOD\+\_\+\+COUNT}~400
\item 
\mbox{\Hypertarget{fan_control_8c_a6aff27262a6bc87a218447cbe551edb3}\label{fan_control_8c_a6aff27262a6bc87a218447cbe551edb3}} 
\#define {\bfseries FAN\+\_\+\+TASK\+\_\+\+PERIOD\+\_\+\+MS}~100
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{fan_control_8c_af8b63e1141165474f388757d14b73d8d}\label{fan_control_8c_af8b63e1141165474f388757d14b73d8d}} 
uint32\+\_\+t {\bfseries calculate\+Fan\+Period} ()
\item 
\mbox{\Hypertarget{fan_control_8c_a0eb72809c678973c8a44d00fca375da4}\label{fan_control_8c_a0eb72809c678973c8a44d00fca375da4}} 
HAL\+\_\+\+Status\+Type\+Def {\bfseries fan\+Init} ()
\item 
\mbox{\Hypertarget{fan_control_8c_a184ee44a7689f1d3d3aec78b7c4a0e01}\label{fan_control_8c_a184ee44a7689f1d3d3aec78b7c4a0e01}} 
HAL\+\_\+\+Status\+Type\+Def {\bfseries set\+Fan} ()
\item 
\mbox{\Hypertarget{fan_control_8c_a34c9fabe6bbdea59eabd8e06a24aee8d}\label{fan_control_8c_a34c9fabe6bbdea59eabd8e06a24aee8d}} 
void {\bfseries fan\+Task} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Module controlling battery pack fans. 

\begin{DoxyAuthor}{Author}
Richard Matthews
\end{DoxyAuthor}
The battery pack contains an array of fans to cool the battery. The BMU controls the fans based on the temperature of the battery cells, turning them on as the cells heat up and increasing the fan speed proportional to temeprature. 