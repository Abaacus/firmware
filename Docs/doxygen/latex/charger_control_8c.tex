\hypertarget{charger_control_8c}{}\doxysection{/\+Users/djgood/\+WFE/firmware/2018\+\_\+bmu/\+Src/charger\+Control.c File Reference}
\label{charger_control_8c}\index{/Users/djgood/WFE/firmware/2018\_bmu/Src/chargerControl.c@{/Users/djgood/WFE/firmware/2018\_bmu/Src/chargerControl.c}}


Module containing functions for controlling the battery charger.  


{\ttfamily \#include \char`\"{}charger\+Control.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}debug.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}BMU\+\_\+charger\+\_\+can.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}user\+Can.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}inttypes.\+h\char`\"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}watchdog.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{charger_control_8c_a4f34f269d235a59b6b7beb281a05da0b}\label{charger_control_8c_a4f34f269d235a59b6b7beb281a05da0b}} 
\#define {\bfseries CHARGER\+\_\+\+COMM\+\_\+\+START\+\_\+\+TIMEOUT\+\_\+\+MS}~3000
\item 
\mbox{\Hypertarget{charger_control_8c_ad98c25dab6291051ee84191d798e563d}\label{charger_control_8c_ad98c25dab6291051ee84191d798e563d}} 
\#define {\bfseries CHARGER\+\_\+\+COMM\+\_\+\+START\+\_\+\+SEND\+\_\+\+PERIOD\+\_\+\+MS}~100
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{charger_control_8c_ae663cfa2e1710018e30b04d65c75cb2e}\label{charger_control_8c_ae663cfa2e1710018e30b04d65c75cb2e}} 
HAL\+\_\+\+Status\+Type\+Def {\bfseries charger\+Init} ()
\item 
\mbox{\Hypertarget{charger_control_8c_a5a2d967359b16e33f7e6631942424a62}\label{charger_control_8c_a5a2d967359b16e33f7e6631942424a62}} 
HAL\+\_\+\+Status\+Type\+Def {\bfseries start\+Charger\+Communication} (float max\+Voltage, float max\+Current, uint32\+\_\+t watchdog\+Task\+Id)
\item 
\mbox{\Hypertarget{charger_control_8c_a7be8905ea1fecd563a161d1479f42812}\label{charger_control_8c_a7be8905ea1fecd563a161d1479f42812}} 
HAL\+\_\+\+Status\+Type\+Def {\bfseries send\+Charger\+Command} (float max\+Voltage, float max\+Current, bool \mbox{\hyperlink{batteries_8c_a43ea41cc1c21bd36b3622076e20b596c}{start\+Charging}})
\item 
\mbox{\Hypertarget{charger_control_8c_aaa63ddc9fe2a004cad10529547206d10}\label{charger_control_8c_aaa63ddc9fe2a004cad10529547206d10}} 
void {\bfseries CAN\+\_\+\+Msg\+\_\+\+Charge\+Status\+\_\+\+Callback} ()
\item 
\mbox{\Hypertarget{charger_control_8c_a3924dbd41d109e69d729fefb4eae394f}\label{charger_control_8c_a3924dbd41d109e69d729fefb4eae394f}} 
HAL\+\_\+\+Status\+Type\+Def {\bfseries check\+Charger\+Status} (Charger\+Status $\ast$status\+Out)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{charger_control_8c_ac708c1923fe83a48c44f9ef4290f8f00}\label{charger_control_8c_ac708c1923fe83a48c44f9ef4290f8f00}} 
Charger\+Status {\bfseries m\+Status} = \{0\}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Module containing functions for controlling the battery charger. 

\begin{DoxyAuthor}{Author}
Richard Matthews
\end{DoxyAuthor}
The BMU communicates with the charger over a CAN bus (seperate from the car CAN bus). The BMU sends a message specifying max current and voltage for the charger, and receives feedback messages 